Chapter 7, Programming challenges, Inventory Class. Depending on your textbook edition, this is: Challenge 15, page 482 (7e); Challenge 7, page 499 (8e); Challenge 7, page 501 (9e). Design an Inventory class. Start with the textbook description on page 482 (7e), page 499 (8e), page 501 (9e).

The older textbook (7e) lists 4 private variables and 10 public member functions. It is a good start, however, one of the private variables is redundant - it is dependent on two other related private variables. This allows the data to become out-of-sync or "stale". This is not good design practice (see textbook, page 400 (7e) "Avoiding Stale Data"). Identify the redundant variable, and eliminate it. Eliminate and/or modify related member functions to avoid the creation of stale or redundant data in the class. Implement the Inventory Class and use it as described in the textbook.

The newer textbooks (8e, 9e) corrected the problem of the redundant private data variable, and only lists 3 private variables (itemNumber, quantity, cost) and 9 public member functions. The textbook, page 422 (8ed, 9ed) "Avoiding Stale Data" explains why is it not good design practice to have dependencies between member variables. If you have the 8th or 9th edition, you don't have to remove the redundant variable, because the authors corrected this mistake. You should implement the Inventory Class and use it as described in the textbook. Despite removing the redundant private variable, the 8ed and 9ed still say to initialize the removed variable in constructor #2 (last sentence on page 499, 8ed; page 501, 9ed: "Then calls the setTotalCost function." which does not exist.). This is an error in the textbook as the missing variable cannot be initialized. IMPORTANT: "...validate the user inputs to ensure that negative values are not accepted for item number, quantity, or cost." Perform the validation in the constructor(s), which prohibits invalid data entering the instance. (max 25 points).

Note: A common issue is user data validation - where should this be done? The user data should be validated as soon as possible, such as when the user is entering the data. If incorrect data is detected during user input, the user can be asked for a correction immediately. The user's data can be validated during user input, and then provided to the constructor. For this lab, use the get_input() function developed in lab 6 to validate user input.

However, this is not good enough. The constructor is NOT and should NOT be "wired" directly to the data input function. The constructor should not assume the data provided is pre-validated and correct. Data input may occur with a live user at a keyboard, reading from a file, reading from an Internet connection, reading from a data structure, etc. What guarantees data accuracy for the class instance, regardless of the source of the data? The instance data can only be guaranteed to be valid if checked during construction. The constructor should be designed to be called independently of the data input function, so the data can come from many different sources. You cannot be absolutely sure the data is pre-validated before it gets to the constructor. For example, invalid data may be read from a file, which cannot be corrected. The only way to prevent invalid data from entering the class instance is in the constructors and/or setters.

Do not use cin and cout in the constructors. Do not carry on an interactive conversation with the user inside the constructor. This makes the class very brittle. The class can no longer be used as a general purpose class. Instead, get the data first, then feed it into the constructor. Validate data in the constructor for sure; this is the final and most important place to guarantee correct data. If getting data from the user, and interactive dialog allows validation, validate it with the user. For this lab, validate in both places.

What to do if the constructor detects invalid data? 1)Throw an exception and terminate the program. This works, but may be considered a bit extreme. If the constructor throws an exception, it must be enclosed in a try / catch block to prevent program termination; 2)Create an instance with valid default values instead of the provided incorrect values; 3)Provide a valid/invalid status in the class which can be checked after construction. For this lab, use option 2. If invalid values are presented to the constructor, use valid defaults. If invalid data is presented to a setter, do not change the data member to the invalid data.

Write some driver code which tests this class. Test each member function. Your driver code should create at least 2 instances of this class, load them with valid data, and display the contents of each instance. Submit just one .cpp file. Do not create the class in a separate file (max 27 points).

If your C++ is stronger, add a string to the private variable portion of the class. The string describes the item. Add appropriate getter/setter methods (accessor/mutator) to utilize the string. Extend the driver program to ask: "How many items in inventory?" (Allow for up to 5 maximum). Loop as many times specified by the user (1 to 5) to load up the inventory with items. You can use an array to store the items, or have 5 variables: item1, item2, ... item5. Provide another loop to display each item, while keeping a subtotal of cost. At the end, output the total cost of the inventory. Test with 3 items. (Although the capacity is up to 5 items, your test output, pasted at the bottom, should demonstrate using at least 3 different inventory items, or "instances" of class Inventory.) Submit just one .cpp file. Do not create the class in a separate file. (max 30 points).

If your C++ is really good, add to the previous step: Provide the option to use FileIO (in addition to optional manual keyboard entry) to read and load the inventory items from a datafile of your making. This saves you the trouble of manually entering data; testing will be less work! Echo the data as it is read in for verification. Submit two files: one .cpp file with the class and main; and another data file. To keep your data file unique, use the file naming convention: DDHH_L7_Lastname.txt. Replace the DDHH with the course designator and Lastname with your last name. (max 33 points).
